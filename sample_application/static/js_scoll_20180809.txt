

function get_price(){
     var price = document.getElementsByClassName("product-container");
	for (var x of p){
	    console.log(x.innerText);
		}
		}
	
	
var h1 = document.querySelector('h1');
if (isInViewport(h1)) {
    // Do something...
}		
		


if (
	bounding.top >= 0 &&
	bounding.left >= 0 &&
	bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&
	bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight)
) {
	console.log('In the viewport!');
} else {
	console.log('Not in the viewport... whomp whomp');
}


  
  var isInViewport = function (elem) {
    var bounding = elem.getBoundingClientRect();
    return (
        bounding.top >= 0 &&
        bounding.left >= 0 &&
        bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
};



document.addEventListener('scroll', function (event) {
     var p = document.getElementsByClassName("product-container");
     for (var x of p){
	  if (isInViewport(x)) {
		console.log(x.innerText);
	}
	}
});





$(document).scroll(function(event){
  console.log("now");});

 var isInViewport = function (elem) {
    var bounding = elem.getBoundingClientRect();
    return (
        bounding.top >= 0 &&
        bounding.left >= 0 &&
        bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
};

function test(){
     var p = document.getElementsByClassName("product-container");
     for (var x of p){
	  if (isInViewport(x)) {
		console.log(x.innerText);
	}
	}
	}
	
	window.onscroll = function() {test()};
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
/*
If a element is visible, which mean its' top and left both greater than 0
its' right  and bottom should less than screen
this is how we know whether a element is on the screen

*/


var isVisible = function(elem) {
     var bounding = elem.getBoundingClientRect();
     return (
         bounding.top >= 0 &&
         bounding.left >= 0 &&
         bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
         bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
     );
 };


/*

addEventListener to scroll event
only console the element which is on screen
by the way, I figure out that if we trying to use "windows.addEventListener(scroll)", 
it won't work, for reason that the website has used the Scroll-linked effects
"windows.addEventListener(scroll)" has bind to other function

*/



 document.addEventListener('scroll', function(event) {
     var product = document.getElementsByClassName("product-container");
     for (var prod of product) {
         if (isVisible(prod)) {
             console.log(prod.innerText);
         }
     }
 },false);
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 var isVisible = function(elem) {
     var bounding = elem.getBoundingClientRect();
     return (
         bounding.top >= 0 &&
         bounding.left >= 0 &&
         bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
         bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
     );
 };
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 	
/*
   * Sample website: https://www.leslipfrancais.fr/maillots-de-bain-326#
   * If an element is visible, which mean its' top and left both greater than 0 
   * and its' right  and bottom should less than the screen
   * This is how we know whether an element is on the screen
*/

function isVisible(elem) {
    var location = elem.getBoundingClientRect();
    return (
        location.top >= 0 &&
        location.left >= 0 &&
        location.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        location.right <= (window.innerWidth || document.documentElement.clientHeight)
    );
};

/*

    * Add EventListener to scroll event
    * Only console the element which is on screen
    * By the way, I find out that if we trying to use "windows.addEventListener(scroll)"
    * It won't work, for reason that the website has used the Scroll-linked effects
    * "windows.addEventListener(scroll)" has listened to other function
	* By the way, We don't want to console too many times when scrolling
	* So we add a new array to save the products which have consoled
	* Copy and paste the code into Console. You will see that the products information will be displayed  in the console when scrolling
	* If we only need product_name or product_price, we can use String.Split("\n") to get more specific the information
	* If it doesn't work, try to refresh the page and paste the code again. Or try to test in a higher version of the browser(Chrome or Firefox)
    
*/

var temp = []
document.addEventListener('scroll', function(event) {
    var product = document.getElementsByClassName("product-container");
    if (product) {
        for (var prod of product) {
            if (isVisible(prod)) {
                if (!temp.includes(prod.innerText)) {
                    console.log(prod.innerText);
                    temp.push(prod.innerText);
                }
            }
        }
        product = null
    }
});